import { service as _service } from 'knifecycle';

function noop() {
  return undefined;
}

const EXPLICIT_CHARS = 'ABCDEFGHJKMNPRSTUVWXYZ23456789';
export default _service(initCodeGenerator, "codeGenerator", ["?CHARS_SET", "?random", "?log"]);

async function initCodeGenerator({
  CHARS_SET = EXPLICIT_CHARS,
  random = Math.random.bind(Math),
  log = noop
}) {
  log('debug', `↪️ - Code generation service Initialized!`);
  const charsSetLength = CHARS_SET.length;
  return codeGenerator;

  async function codeGenerator(length = 6) {
    const code = new Array(length).fill('0').map(() => CHARS_SET[Math.floor(random() * (charsSetLength - 1))]).join('');
    log('debug', `↪️ - Generated a new code:`, code);
    return code;
  }
}
//# sourceMappingURL=codeGenerator.mjs.map