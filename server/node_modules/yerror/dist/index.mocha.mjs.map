{"version":3,"sources":["../src/index.mocha.js"],"names":["assert","YError","describe","it","err","Error","equal","name","toString","code","deepEqual","params","wrap","wrappedErrors","length","captureStackTrace","stack","indexOf","cast","bump","baseErr"],"mappings":"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","sourcesContent":["/* eslint max-nested-callbacks:[0], no-magic-numbers:[0] */\nimport assert from 'assert';\nimport YError from '.';\n\ndescribe('YError', () => {\n  describe('.__constructor', () => {\n    it('Should work', () => {\n      var err = new YError('E_ERROR', 'arg1', 'arg2');\n\n      assert(err instanceof Error);\n      assert.equal(err.name, err.toString());\n      assert.equal(err.code, 'E_ERROR');\n      assert.deepEqual(err.params, ['arg1', 'arg2']);\n      assert.equal(err.toString(), 'YError: E_ERROR (arg1, arg2)');\n    });\n    it('Should work without code', () => {\n      var err = new YError();\n\n      assert.equal(err.code, 'E_UNEXPECTED');\n      assert.deepEqual(err.params, []);\n      assert.equal(err.toString(), 'YError: E_UNEXPECTED ()');\n      assert.equal(err.name, err.toString());\n    });\n    it('Should work without new', () => {\n      var err = new YError('E_ERROR', 'arg1', 'arg2');\n\n      assert.equal(err.code, 'E_ERROR');\n      assert(err instanceof YError);\n      assert.deepEqual(err.params, ['arg1', 'arg2']);\n      assert.equal(err.toString(), 'YError: E_ERROR (arg1, arg2)');\n      assert.equal(err.name, err.toString());\n    });\n  });\n\n  describe('.wrap()', () => {\n    it('Should work with standard errors and a message', () => {\n      // eslint-disable-line\n      var err = YError.wrap(new Error('This is an error!'));\n\n      assert.equal(err.code, 'E_UNEXPECTED');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, ['This is an error!']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: This is an error!'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_UNEXPECTED (This is an error!)'),\n          'Stack contains cast error.',\n        );\n        assert.equal(err.name, err.toString());\n      }\n    });\n\n    it('Should work with standard errors and an error code', () => {\n      var err = YError.wrap(new Error('E_ERROR'));\n\n      assert.equal(err.code, 'E_ERROR');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, []);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: E_ERROR'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR ()'),\n          'Stack contains cast error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n\n    it('Should work with standard errors, an error code and params', () => {\n      var err = YError.wrap(new Error('E_ERROR'), 'E_ERROR_2', 'arg1', 'arg2');\n\n      assert.equal(err.code, 'E_ERROR_2');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, ['arg1', 'arg2']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: E_ERROR'),\n          'Stack contains first error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR_2 (arg1, arg2)'),\n          'Stack contains second error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n\n    it('Should work with several wrapped errors', () => {\n      var err = YError.wrap(\n        YError.wrap(new Error('E_ERROR_1'), 'E_ERROR_2', 'arg2.1', 'arg2.2'),\n        'E_ERROR_3',\n        'arg3.1',\n        'arg3.2',\n      );\n\n      assert.equal(err.code, 'E_ERROR_3');\n      assert.equal(err.wrappedErrors.length, 2);\n      assert.deepEqual(err.params, ['arg3.1', 'arg3.2']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: E_ERROR_1'),\n          'Stack contains first error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR_2 (arg2.1, arg2.2)'),\n          'Stack contains second error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR_3 (arg3.1, arg3.2)'),\n          'Stack contains second error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n  });\n\n  describe('.cast()', () => {\n    it('Should work with standard errors and a message', () => {\n      var err = YError.cast(new Error('This is an error!'));\n\n      assert.equal(err.code, 'E_UNEXPECTED');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, ['This is an error!']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: This is an error!'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_UNEXPECTED (This is an error!)'),\n          'Stack contains cast error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n\n    it('Should let YError instances pass through', () => {\n      var err = YError.cast(new YError('E_ERROR', 'arg1', 'arg2'));\n\n      assert.equal(err.code, 'E_ERROR');\n      assert.deepEqual(err.params, ['arg1', 'arg2']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR (arg1, arg2)'),\n          'Stack contains cast error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n  });\n\n  describe('.bump()', () => {\n    it('Should work with standard errors and a message', () => {\n      var err = YError.bump(new Error('This is an error!'));\n\n      assert.equal(err.code, 'E_UNEXPECTED');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, ['This is an error!']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: This is an error!'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_UNEXPECTED (This is an error!)'),\n          'Stack contains bumped error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n\n    it('Should work with YError like errors', () => {\n      var baseErr = new Error('E_A_NEW_ERROR');\n\n      baseErr.code = 'E_A_NEW_ERROR';\n      baseErr.params = ['baseParam1', 'baseParam2'];\n\n      let err = YError.bump(baseErr);\n\n      assert.equal(err.code, 'E_A_NEW_ERROR');\n      assert.equal(err.wrappedErrors.length, 1);\n      assert.deepEqual(err.params, ['baseParam1', 'baseParam2']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('Error: E_A_NEW_ERROR'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !==\n            err.stack.indexOf('YError: E_A_NEW_ERROR (baseParam1, baseParam2)'),\n          'Stack contains bumped error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n\n    it('Should work with Y errors and a message', () => {\n      var err = YError.bump(\n        new YError('E_ERROR', 'arg1.1', 'arg1.2'),\n        'E_ERROR_2',\n        'arg2.1',\n        'arg2.2',\n      );\n\n      assert.equal(err.code, 'E_ERROR');\n      assert.deepEqual(err.params, ['arg1.1', 'arg1.2']);\n\n      if (Error.captureStackTrace) {\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR (arg1.1, arg1.2)'),\n          'Stack contains original error.',\n        );\n        assert(\n          -1 !== err.stack.indexOf('YError: E_ERROR (arg1.1, arg1.2)'),\n          'Stack contains bumped error.',\n        );\n      }\n      assert.equal(err.name, err.toString());\n    });\n  });\n});\n"],"file":"index.mocha.mjs"}